function t(t,e,n,o){const i=t.reduce(((t,e)=>t+e.width/e.height),0),s=e/i;let a=0;return t.map((t=>{const o=t.width/t.height*s,i={id:t.id,x:a,y:n,width:o,height:s,textureCoords:{s:a/e,t:n/e,u:(a+o)/e,v:(n+s)/e}};return a+=o,i}))}self.onmessage=e=>{if("calculateLayout"===e.data.action){const{images:n,containerWidth:o,containerHeight:i,targetRowHeight:s}=e.data,a=function(e,n,o,i){const s=[];let a=[],h=0,c=0;for(const u of e){const e=i*(u.width/u.height);if(h+e>n&&a.length>0){const e=t(a,n,c);s.push(...e),c+=i,a=[],h=0}a.push(u),h+=e}if(a.length>0){const e=t(a,n,c);s.push(...e)}return s}(n,o,0,s);self.postMessage({action:"layoutCalculated",layout:a})}};
//# sourceMappingURL=layoutWorker.D_xi-AVU.js.map
